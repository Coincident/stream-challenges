<!DOCTYPE html>
<html>
<head>
	<title>Stream Icons Bar</title>
</head>
<style>
	body 	{background-color:black;}
	td   	{width: 400px; height: 600px;}
	button	{width: 95px; height: 50px;}
</style>

<body>
<table>
<tr>
	<td style="text-align: center;">
		<div id="CannotRun" style="display: none;"><img src="images/CannotRun.png"></div>
		<div id="Clothespin" style="display: none;"><img src="images/Clothespin.png"></div>
		<div id="CrossHanded" style="display: none;"><img src="images/CrossHanded.png"></div>
		<div id="FastMonsters" style="display: none;"><img src="images/FastMonsters.png"></div>
		<div id="FlipPhones" style="display: none;"><img src="images/FlipPhones.png"></div>
		<div id="GoPacifist" style="display: none;"><img src="images/GoPacifist.png"></div>
		<div id="HoldBreath" style="display: none;"><img src="images/HoldBreath.png"></div>
		<div id="Invisible" style="display: none;"><img src="images/Invisible.png"></div>
		<div id="KeepCalm" style="display: none;"><img src="images/KeepCalm.png"></div>
		<div id="MeleeOnly" style="display: none;"><img src="images/MeleeOnly.png"></div>
		<div id="NoDamage" style="display: none;"><img src="images/NoDamage.png"></div>
		<div id="OvenMitt" style="display: none;"><img src="images/OvenMitt.png"></div>
		<div id="StickyWeapon" style="display: none;"><img src="images/StickyWeapon.png"></div>
		<div id="StrafeOnly" style="display: none;"><img src="images/StrafeOnly.png"></div>
	</td>
	<td style="text-align: left;">
		<button type="button" onclick="toggleIcon('CannotRun', '181')"><b>Cannot run</b></button>
		<button type="button" onclick="clearAll()"><b>Clear all</b></button><br/>
		<button type="button" onclick="toggleIcon('Clothespin', '186')"><b>Clothespin</b></button><br/>
		<button type="button" onclick="toggleIcon('CrossHanded', '90')"><b>Cross handed</b></button><br/>
		<button type="button" onclick="toggleIcon('FastMonsters', '130')"><b>Fast monsters</b></button><br/>
		<button type="button" onclick="toggleIcon('FlipPhones', '123')"><b>Flip phones</b></button><br/>
		<button type="button" onclick="toggleIcon('GoPacifist', '121')"><b>Go pacifist</b></button><br/>
		<button type="button" onclick="toggleIcon('HoldBreath', '62')"><b>Hold breath</b></button><br/>
		<button type="button" onclick="toggleIcon('Invisible', '150')"><b>Invisible</b></button><br/>
		<button type="button" onclick="toggleIcon('KeepCalm', '60')"><b>Keep calm</b></button><br/>
		<button type="button" onclick="toggleIcon('MeleeOnly', '120')"><b>Melee only</b></button><br/>
		<button type="button" onclick="toggleIcon('NoDamage', '50')"><b>No damage</b></button><br/>
		<button type="button" onclick="toggleIcon('OvenMitt', '118')"><b>Oven mitt</b></button><br/>
		<button type="button" onclick="toggleIcon('StickyWeapon', '183')"><b>Sticky weapon</b></button><br/>
		<button type="button" onclick="toggleIcon('StrafeOnly', '60')"><b>Strafe only</b></button><br/>
	</td>
</tr>
</table>
</body>
<script>
on_sound = new Audio('sounds/on.wav');
off_sound = new Audio('sounds/off.wav');

function clearAll() {
	hideIcon("CannotRun");
	hideIcon("Clothespin");
	hideIcon("CrossHanded");
	hideIcon("FastMonsters");
	hideIcon("FlipPhones");
	hideIcon("GoPacifist");
	hideIcon("HoldBreath");
	hideIcon("Invisible");
	hideIcon("KeepCalm");
	hideIcon("MeleeOnly");
	hideIcon("NoDamage");
	hideIcon("OvenMitt");
	hideIcon("StickyWeapon");
	hideIcon("StrafeOnly");
		
	clearTimeout(timeoutOffSound);
	clearTimeout(timeoutOpacity1);
	clearTimeout(timeoutOpacity2);
	clearTimeout(timeoutOpacity3);
	clearTimeout(timeoutOpacity4);
	clearTimeout(timeoutOpacity5);
	clearTimeout(timeoutOpacity6);
	clearTimeout(timeoutOpacity7);
	clearTimeout(timeoutHideIcon);
}
function playOffSound() {
	off_sound.play();
}
function showIcon(elementId) {
	document.getElementById(elementId).style.display = "block";
	document.getElementById(elementId).style.opacity = 1.0;
}
function hideIcon(elementId) {
	document.getElementById(elementId).style.display = "none";
}
function setOpacity(elementId, opacity) {
	document.getElementById(elementId).style.opacity = opacity;
}

var timeoutOffSound;
var timeoutOpacity1;
var timeoutOpacity2;
var timeoutOpacity3;
var timeoutOpacity4;
var timeoutOpacity5;
var timeoutOpacity6;
var timeoutOpacity7;
var timeoutHideIcon;

function toggleIcon(iconName, duration_secs) {
	if (duration_secs < 4) {
		duration_secs = 4;
	}
	clearAll();
	on_sound.play();
	showIcon(iconName);
	timeoutOffSound = setTimeout(playOffSound, (duration_secs - 3.0) * 1000);
	timeoutOpacity1 = setTimeout(setOpacity.bind(null, iconName, 0.5), (duration_secs - 3.5) * 1000);
	timeoutOpacity2 = setTimeout(setOpacity.bind(null, iconName, 1.0), (duration_secs - 3.0) * 1000);
	timeoutOpacity3 = setTimeout(setOpacity.bind(null, iconName, 0.5), (duration_secs - 2.5) * 1000);
	timeoutOpacity4 = setTimeout(setOpacity.bind(null, iconName, 1.0), (duration_secs - 2.0) * 1000);
	timeoutOpacity5 = setTimeout(setOpacity.bind(null, iconName, 0.5), (duration_secs - 1.5) * 1000);
	timeoutOpacity6 = setTimeout(setOpacity.bind(null, iconName, 1.0), (duration_secs - 1.0) * 1000);
	timeoutOpacity7 = setTimeout(setOpacity.bind(null, iconName, 0.5), (duration_secs - 0.5) * 1000);
	timeoutHideIcon = setTimeout(hideIcon.bind(null, iconName), (duration_secs) * 1000);
}
</script>
</html>
